# file opened: text.z80
  1   0000              ; Printing text to screen
  2   0000              ; Starting to use the Spectrum ROM routines
  3   0000
  4   0000              	DEVICE ZXSPECTRUM48
  5   0000
  6   0000              	org $8000
  7   8000
  8   8000              ; Routines
  9   8000              CL_ALL	= $0DAF
 10   8000
 11   8000              ; Character Codes
 12   8000              ENTER   = $0D
 13   8000              INK     = $10
 14   8000              PAPER   = $11
 15   8000              FLASH   = $12
 16   8000              BRIGHT  = $13
 17   8000              GFX_0   = $80
 18   8000              GFX_1   = GFX_0+1
 19   8000              GFX_2   = GFX_0+2
 20   8000              GFX_3   = GFX_0+3
 21   8000              GFX_4   = GFX_0+4
 22   8000              GFX_5   = GFX_0+5
 23   8000              GFX_6   = GFX_0+6
 24   8000              GFX_7   = GFX_0+7
 25   8000              GFX_8   = GFX_0+8
 26   8000              GFX_9   = GFX_0+9
 27   8000              GFX_A   = GFX_0+$A
 28   8000              GFX_B   = GFX_0+$B
 29   8000              GFX_C   = GFX_0+$C
 30   8000              GFX_D   = GFX_0+$D
 31   8000              GFX_E   = GFX_0+$E
 32   8000              GFX_F   = GFX_0+$F
 33   8000              ENDCHR	= $E2
 34   8000
 35   8000              ; Main routine
 36   8000
 37   8000              start:
 38   8000 ED 56        	im 1		; Use ROM interrupts
 39   8002 FB           	ei		; Enable interrupts
 40   8003 CD AF 0D     	call CL_ALL	; Clear screen
 41   8006 01 C0 02     	ld bc,SCR_CHARS	; Total screen characters
 42   8009 21 15 80     	ld hl,screen	; Start of screen
 43   800C              printloop:
 44   800C 7E           	ld a,(hl)	; Get character
 45   800D D7           	rst $10		; Print character
 46   800E 23           	inc hl
 47   800F 0B           	dec bc
 48   8010 78           	ld a,b
 49   8011 B1           	or c
 50   8012 20 F8        	jr nz,printloop	; loop for all screen characters
 51   8014 C9           	ret
 52   8015
 53   8015              ; Screen Data
 54   8015
 55   8015              screen:
 56   8015              ; Area 1
 57   8015              	; db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0	; Line 1
 58   8015              	; db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
 59   8015              	; db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
 60   8015              	; db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
 61   8015 80 80 8C 8C  	db GFX_0,GFX_0,GFX_C,GFX_C,GFX_C,GFX_C,GFX_0,GFX_0	; Line 2
 61   8019 8C 8C 80 80
 62   801D 80 80 8C 8C  	db GFX_0,GFX_0,GFX_C,GFX_C,GFX_C,GFX_C,GFX_0,GFX_0
 62   8021 8C 8C 80 80
 63   8025 80 80 8C 8C  	db GFX_0,GFX_0,GFX_C,GFX_C,GFX_C,GFX_C,GFX_0,GFX_0
 63   8029 8C 8C 80 80
 64   802D 80 8C 8C 8C  	db GFX_0,GFX_C,GFX_C,GFX_C,GFX_C,GFX_0,GFX_0,GFX_0
 64   8031 8C 80 80 80
 65   8035 80 80 8F 83  	db GFX_0,GFX_0,GFX_F,GFX_3,GFX_3,GFX_3,GFX_C,GFX_0	; Line 3
 65   8039 83 83 8C 80
 66   803D 80 8C 83 83  	db GFX_0,GFX_C,GFX_3,GFX_3,GFX_3,GFX_3,GFX_C,GFX_0
 66   8041 83 83 8C 80
 67   8045 80 8C 83 83  	db GFX_0,GFX_C,GFX_3,GFX_3,GFX_3,GFX_3,GFX_C,GFX_0
 67   8049 83 83 8C 80
 68   804D 80 8F 83 83  	db GFX_0,GFX_F,GFX_3,GFX_3,GFX_3,GFX_C,GFX_0,GFX_0
 68   8051 83 8C 80 80
 69   8055 80 80 8F 80  	db GFX_0,GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0	; Line 4
 69   8059 80 80 8F 80
 70   805D 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0
 70   8061 80 80 8F 80
 71   8065 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0
 71   8069 80 80 8F 80
 72   806D 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0,GFX_0
 72   8071 80 8F 80 80
 73   8075 80 80 8F 8C  	db GFX_0,GFX_0,GFX_F,GFX_C,GFX_C,GFX_C,GFX_3,GFX_0	; Line 5
 73   8079 8C 8C 83 80
 74   807D 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0
 74   8081 80 80 8F 80
 75   8085 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0
 75   8089 80 80 8F 80
 76   808D 80 8F 8C 8C  	db GFX_0,GFX_F,GFX_C,GFX_C,GFX_C,GFX_3,GFX_0,GFX_0
 76   8091 8C 83 80 80
 77   8095 80 80 8F 83  	db GFX_0,GFX_0,GFX_F,GFX_3,GFX_3,GFX_3,GFX_0,GFX_0	; Line 6
 77   8099 83 83 80 80
 78   809D 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0
 78   80A1 80 80 8F 80
 79   80A5 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0
 79   80A9 80 80 8F 80
 80   80AD 80 8F 83 83  	db GFX_0,GFX_F,GFX_3,GFX_3,GFX_3,GFX_0,GFX_0,GFX_0
 80   80B1 83 80 80 80
 81   80B5 80 80 8F 80  	db GFX_0,GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0	; Line 7
 81   80B9 80 80 80 80
 82   80BD 80 83 8C 8C  	db GFX_0,GFX_3,GFX_C,GFX_C,GFX_C,GFX_C,GFX_3,GFX_0
 82   80C1 8C 8C 83 80
 83   80C5 80 83 8C 8C  	db GFX_0,GFX_3,GFX_C,GFX_C,GFX_C,GFX_C,GFX_3,GFX_0
 83   80C9 8C 8C 83 80
 84   80CD 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
 84   80D1 80 80 80 80
 85   80D5 80 80 83 80  	db GFX_0,GFX_0,GFX_3,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0	; Line 8
 85   80D9 80 80 80 80
 86   80DD 80 80 83 83  	db GFX_0,GFX_0,GFX_3,GFX_3,GFX_3,GFX_3,GFX_0,GFX_0
 86   80E1 83 83 80 80
 87   80E5 80 80 83 83  	db GFX_0,GFX_0,GFX_3,GFX_3,GFX_3,GFX_3,GFX_0,GFX_0
 87   80E9 83 83 80 80
 88   80ED 80 83 80 80  	db GFX_0,GFX_3,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
 88   80F1 80 80 80 80
 89   80F5              ; Area 2
 90   80F5 80 80 84 8C  	db GFX_0,GFX_0,GFX_4,GFX_C,GFX_8,GFX_0,GFX_0,GFX_0	; Line 9
 90   80F9 88 80 80 80
 91   80FD 80 80 80 84  	db GFX_0,GFX_0,GFX_0,GFX_4,GFX_0,GFX_0,GFX_0,GFX_0
 91   8101 80 80 80 80
 92   8105 80 80 80 80  	db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
 92   8109 80 80 80 80
 93   810D 80 84 80 80  	db GFX_0,GFX_4,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
 93   8111 80 80 80 80
 94   8115 80 80 85 8C  	db GFX_0,GFX_0,GFX_5,GFX_C,GFX_9,GFX_0,GFX_3,GFX_6	; Line 10
 94   8119 89 80 83 86
 95   811D 84 83 82 85  	db GFX_4,GFX_3,GFX_2,GFX_5,GFX_9,GFX_0,GFX_5,GFX_4
 95   8121 89 80 85 84
 96   8125 85 80 83 86  	db GFX_5,GFX_0,GFX_3,GFX_6,GFX_4,GFX_3,GFX_2,GFX_0
 96   8129 84 83 82 80
 97   812D 8C 8D 84 83  	db GFX_C,GFX_D,GFX_4,GFX_3,GFX_2,GFX_0,GFX_0,GFX_0
 97   8131 82 80 80 80
 98   8135 80 80 85 80  	db GFX_0,GFX_0,GFX_5,GFX_0,GFX_5,GFX_4,GFX_3,GFX_7	; Line 11
 98   8139 85 84 83 87
 99   813D 85 80 80 85  	db GFX_5,GFX_0,GFX_0,GFX_5,GFX_6,GFX_0,GFX_5,GFX_5
 99   8141 86 80 85 85
100   8145 85 84 83 87  	db GFX_5,GFX_4,GFX_3,GFX_7,GFX_5,GFX_0,GFX_0,GFX_5
100   8149 85 80 80 85
101   814D 80 85 80 83  	db GFX_0,GFX_5,GFX_0,GFX_3,GFX_6,GFX_0,GFX_0,GFX_0
101   8151 86 80 80 80
102   8155 80 80 81 83  	db GFX_0,GFX_0,GFX_1,GFX_3,GFX_2,GFX_0,GFX_3,GFX_3	; Line 12
102   8159 82 80 83 83
103   815D 80 83 82 81  	db GFX_0,GFX_3,GFX_2,GFX_1,GFX_0,GFX_2,GFX_0,GFX_2
103   8161 80 82 80 82
104   8165 82 80 83 83  	db GFX_2,GFX_0,GFX_3,GFX_3,GFX_1,GFX_0,GFX_0,GFX_0
104   8169 81 80 80 80
105   816D 83 83 81 83  	db GFX_3,GFX_3,GFX_1,GFX_3,GFX_2,GFX_0,GFX_0,GFX_0
105   8171 82 80 80 80
106   8175 80 80 80 80  	db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0	; Line 13
106   8179 80 80 80 80
107   817D 80 80 80 84  	db GFX_0,GFX_0,GFX_0,GFX_4,GFX_C,GFX_C,GFX_0,GFX_0
107   8181 8C 8C 80 80
108   8185 84 8C 88 80  	db GFX_4,GFX_C,GFX_8,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
108   8189 80 80 80 80
109   818D 80 80 80 80  	db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
109   8191 80 80 80 80
110   8195 80 80 80 80  	db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0	; Line 14
110   8199 80 80 80 80
111   819D 80 80 80 80  	db GFX_0,GFX_0,GFX_0,GFX_0,GFX_9,GFX_0,GFX_0,GFX_0
111   81A1 89 80 80 80
112   81A5 8E 8C 80 80  	db GFX_E,GFX_C,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
112   81A9 80 80 80 80
113   81AD 80 80 80 80  	db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
113   81B1 80 80 80 80
114   81B5 80 80 80 80  	db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0	; Line 15
114   81B9 80 80 80 80
115   81BD 80 80 80 84  	db GFX_0,GFX_0,GFX_0,GFX_4,GFX_2,GFX_0,GFX_0,GFX_8
115   81C1 82 80 80 88
116   81C5 80 84 82 80  	db GFX_0,GFX_4,GFX_2,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
116   81C9 80 80 80 80
117   81CD 80 80 80 80  	db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
117   81D1 80 80 80 80
118   81D5 80 80 80 80  	db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0	; Line 16
118   81D9 80 80 80 80
119   81DD 80 80 81 83  	db GFX_0,GFX_0,GFX_1,GFX_3,GFX_3,GFX_0,GFX_0,GFX_3
119   81E1 83 80 80 83
120   81E5 83 82 80 81  	db GFX_3,GFX_2,GFX_0,GFX_1,GFX_1,GFX_1,GFX_0,GFX_0
120   81E9 81 81 80 80
121   81ED 80 80 80 80  	db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
121   81F1 80 80 80 80
122   81F5              ; Area 3
123   81F5              	; db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0	; Line 17
124   81F5              	; db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
125   81F5              	; db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
126   81F5              	; db GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0
127   81F5 80 80 8C 8C  	db GFX_0,GFX_0,GFX_C,GFX_C,GFX_C,GFX_C,GFX_0,GFX_0	; Line 18
127   81F9 8C 8C 80 80
128   81FD 80 80 8C 8C  	db GFX_0,GFX_0,GFX_C,GFX_C,GFX_C,GFX_C,GFX_0,GFX_0
128   8201 8C 8C 80 80
129   8205 80 80 8C 8C  	db GFX_0,GFX_0,GFX_C,GFX_C,GFX_C,GFX_C,GFX_0,GFX_0
129   8209 8C 8C 80 80
130   820D 80 8C 8C 8C  	db GFX_0,GFX_C,GFX_C,GFX_C,GFX_C,GFX_0,GFX_0,GFX_0
130   8211 8C 80 80 80
131   8215 80 80 8F 83  	db GFX_0,GFX_0,GFX_F,GFX_3,GFX_3,GFX_3,GFX_C,GFX_0	; Line 19
131   8219 83 83 8C 80
132   821D 80 8C 83 83  	db GFX_0,GFX_C,GFX_3,GFX_3,GFX_3,GFX_3,GFX_C,GFX_0
132   8221 83 83 8C 80
133   8225 80 8C 83 83  	db GFX_0,GFX_C,GFX_3,GFX_3,GFX_3,GFX_3,GFX_C,GFX_0
133   8229 83 83 8C 80
134   822D 80 8F 83 83  	db GFX_0,GFX_F,GFX_3,GFX_3,GFX_3,GFX_C,GFX_0,GFX_0
134   8231 83 8C 80 80
135   8235 80 80 8F 80  	db GFX_0,GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0	; Line 20
135   8239 80 80 8F 80
136   823D 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0
136   8241 80 80 8F 80
137   8245 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0
137   8249 80 80 8F 80
138   824D 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0,GFX_0
138   8251 80 8F 80 80
139   8255 80 80 8F 8C  	db GFX_0,GFX_0,GFX_F,GFX_C,GFX_C,GFX_C,GFX_3,GFX_0	; Line 21
139   8259 8C 8C 83 80
140   825D 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0
140   8261 80 80 8F 80
141   8265 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0
141   8269 80 80 8F 80
142   826D 80 8F 8C 8C  	db GFX_0,GFX_F,GFX_C,GFX_C,GFX_C,GFX_3,GFX_0,GFX_0
142   8271 8C 83 80 80
143   8275 80 80 8F 83  	db GFX_0,GFX_0,GFX_F,GFX_3,GFX_3,GFX_3,GFX_0,GFX_0	; Line 22
143   8279 83 83 80 80
144   827D 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0
144   8281 80 80 8F 80
145   8285 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_F,GFX_0
145   8289 80 80 8F 80
146   828D 80 8F 83 83  	db GFX_0,GFX_F,GFX_3,GFX_3,GFX_3,GFX_0,GFX_0,GFX_0
146   8291 83 80 80 80
147   8295 80 80 8F 80  	db GFX_0,GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0	; Line 23
147   8299 80 80 80 80
148   829D 80 83 8C 8C  	db GFX_0,GFX_3,GFX_C,GFX_C,GFX_C,GFX_C,GFX_3,GFX_0
148   82A1 8C 8C 83 80
149   82A5 80 83 8C 8C  	db GFX_0,GFX_3,GFX_C,GFX_C,GFX_C,GFX_C,GFX_3,GFX_0
149   82A9 8C 8C 83 80
150   82AD 80 8F 80 80  	db GFX_0,GFX_F,GFX_0,GFX_0,GFX_0,GFX_0,GFX_C,GFX_0
150   82B1 80 80 8C 80
151   82B5 80 80 83 80  	db GFX_0,GFX_0,GFX_3,GFX_0,GFX_0,GFX_0,GFX_0,GFX_0	; Line 24
151   82B9 80 80 80 80
152   82BD 80 80 83 83  	db GFX_0,GFX_0,GFX_3,GFX_3,GFX_3,GFX_3,GFX_0,GFX_0
152   82C1 83 83 80 80
153   82C5 80 80 83 83  	db GFX_0,GFX_0,GFX_3,GFX_3,GFX_3,GFX_3,GFX_0,GFX_0
153   82C9 83 83 80 80
154   82CD 80 83 80 80  	db GFX_0,GFX_3,GFX_0,GFX_0,GFX_0,GFX_0,GFX_3,GFX_0
154   82D1 80 80 83 80
155   82D5
156   82D5              SCR_CHARS = $ - screen
157   82D5
158   82D5              	SAVESNA "text.sna", start
# file closed: text.z80
